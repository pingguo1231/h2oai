apply from: '../ci/java.gradle'

description = "H2O Algorithms"

dependencies {
  compile project(":h2o-core")

  testCompile "junit:junit:4.+"
  testCompile "org.testng:testng:6.8"
  testCompile project(path: ":h2o-core", configuration: 'tests')
}

sourceSets {
  test {
    java {
      // Slam in a new fully specified list of directories.
      // We don't want to pick up any of the default directories.
      // Specifically, src/test has a bunch of junit stuff that doesn't run
      // properly from gradle or the IDE.
      ArrayList<String> arr = new ArrayList<String>()
      arr.add('src/ng/java')
      setSrcDirs(arr)
    }
  }
}

test {
    useTestNG() {
        suites new File(projectDir, 'src/ng/resources/testng-multinode.xml')
        suites new File(projectDir, 'src/ng/resources/testng.xml')
    }
}
