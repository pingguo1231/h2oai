//
// The top-level h2o2 project does not have any java pieces itself, but
// apply from the standard java.gradle so that 'gradle idea' generates IDE
// files with the right settings.
//
// The top-level h2o2.jar file that gets produced is empty and not usable
// for anything.  Use the jar file produced by the h2o-web subproject.
//
apply from: 'ci/java.gradle'

buildscript {
    repositories {
        mavenCentral()
    }

    dependencies {
        classpath 'eu.appsatori:gradle-fatjar-plugin:0.2'
    }
}

allprojects {
    apply plugin: 'idea'
    apply plugin: 'eclipse'
}

subprojects {
    version = '0.1'

    repositories {
        mavenCentral()
        maven {
            url "https://repository.cloudera.com/artifactory/cloudera-repos/"
        }
    }
}

// Cliff command-line 'gradle make'.  Not required for standard gradle build.
task make(dependsOn:":h2o-core:cpLibs", type:Exec) {
  commandLine 'make', '-s'
}
