apply plugin: 'scala'

// Specify properties
ext {
  scalaBinaryVersion = '2.10'
  scalaVersion = '2.10.4'
}

// Actually run the tests by building a cluster of free-running JVMs first.
task testMultiNode(type: Exec) {
  dependsOn compileTestJava
  commandLine 'bash', './testMultiNode.sh'
}

task testJar(type: Jar, dependsOn: testClasses) {
    baseName = "test-${project.name}"
    from sourceSets.test.output
}

// Activate Zinc compiler
tasks.withType(ScalaCompile) {
    scalaCompileOptions.useCompileDaemon = false
    scalaCompileOptions.useAnt = false
    scalaCompileOptions.additionalParameters = ['-target:jvm-1.6']
}

jar {
  baseName = "${project.name}_${scalaBinaryVersion}"
}
